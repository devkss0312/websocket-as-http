# websocket-as-http

### 1. WebSocket 프로토콜로 전환 (클라이언트 변경)
#### 장점:
- **효율적인 통신**: WebSocket은 지속적인 연결을 유지하므로, 실시간 데이터 전송이 필요한 애플리케이션에서 HTTP보다 더 빠르고 효율적인 통신이 가능합니다.
- **양방향 통신**: 클라이언트와 서버가 실시간으로 데이터를 주고받을 수 있는 양방향 통신이 가능해지므로, 자주 상태를 업데이트하거나 빠르게 데이터를 전달하는 시스템에 적합합니다.
- **낮은 오버헤드**: HTTP처럼 매번 새로운 연결을 열고 닫지 않으므로 오버헤드가 적습니다.

#### 단점:
- **클라이언트 코드 수정**: 클라이언트 측에서 기존 Axios 대신 WebSocket을 사용하도록 로직을 수정해야 합니다. 만약 다양한 API 요청이 있을 경우, 이를 모두 WebSocket으로 변경하는 작업이 번거로울 수 있습니다.
- **복잡성 증가**: WebSocket 통신 방식은 HTTP보다 복잡할 수 있으며, 요청과 응답 처리가 일관되지 않을 수 있습니다. 또한, WebSocket은 단순한 요청-응답 패턴이 아닌 스트리밍이나 이벤트 기반 패턴에 적합하므로 기존의 비즈니스 로직을 수정해야 할 수도 있습니다.
- **브라우저 호환성**: WebSocket을 지원하지 않는 브라우저나 네트워크 환경에서는 HTTP 폴백 처리 등 추가적인 고려가 필요합니다.

---

### 2. WebSocket과 HTTP를 추상화하는 라이브러리 구현
#### 장점:
- **기존 클라이언트 로직 유지**: 클라이언트는 기존에 사용하던 Axios나 HTTP 통신 방식을 그대로 유지할 수 있습니다. 이를 통해 코드 수정 작업을 최소화할 수 있습니다.
- **추상화된 통신**: WebSocket을 HTTP처럼 사용할 수 있도록 추상화하므로, WebSocket에 대한 복잡한 세부 구현을 클라이언트가 알 필요가 없습니다.
- **유연성**: 클라이언트가 HTTP 요청처럼 WebSocket을 사용할 수 있기 때문에 HTTP와 WebSocket의 장점을 모두 활용할 수 있습니다.

#### 단점:
- **복잡한 라이브러리 구현**: WebSocket을 HTTP처럼 보이게 추상화하는 라이브러리를 직접 구현해야 하므로, 구현 작업이 복잡할 수 있습니다. 특히, 웹소켓의 상태 관리와 HTTP와 다른 점을 처리하는 부분에서 어려움이 있을 수 있습니다.
- **추가적인 오버헤드**: 추상화 계층을 추가함으로써 통신 중간에 성능 오버헤드가 생길 수 있습니다. WebSocket의 낮은 오버헤드 장점을 일부 잃을 수 있습니다.
- **디버깅 어려움**: 클라이언트와 서버 간의 추상화된 통신 로직은 디버깅이 더 복잡할 수 있습니다. HTTP 요청처럼 보이지만 실제로는 WebSocket으로 처리되기 때문에 예상치 못한 버그가 발생할 수 있습니다.

---

### 3. 서버 측에서 WebSocket 메시지를 HTTP 응답처럼 처리
#### 장점:
- **서버 코드의 재사용**: 기존의 Spring 기반 Restful API 로직을 크게 변경하지 않고 WebSocket 핸들러에서 HTTP 요청처럼 처리할 수 있습니다. 기존의 비즈니스 로직을 재사용할 수 있기 때문에 코드 변경이 최소화됩니다.
- **유지보수 편리성**: 서버 측에서는 기존 HTTP 요청처럼 다룰 수 있기 때문에 WebSocket이 추가되더라도 유지보수가 더 쉽습니다.
- **하이브리드 통신**: HTTP 요청과 WebSocket 요청을 동시에 처리할 수 있어 유연한 통신 구조를 구축할 수 있습니다.

#### 단점:
- **실시간성 제한**: WebSocket의 가장 큰 장점인 실시간 양방향 통신을 완전히 활용하지 못할 수 있습니다. HTTP 요청/응답처럼 동작시키는 구조는 WebSocket의 지속 연결 특성을 살리지 못할 수 있습니다.
- **구현 복잡성**: 서버 측에서 WebSocket을 HTTP처럼 처리하기 위해 복잡한 로직을 추가해야 하며, 요청과 응답 구조를 HTTP처럼 유지하는 것은 구현이 다소 까다로울 수 있습니다.
- **성능 저하**: WebSocket이 가진 낮은 오버헤드의 이점을 잃고, HTTP 요청처럼 처리할 때 성능 저하가 발생할 수 있습니다.

---

### 4. HTTP/WebSocket 하이브리드 서버 고려
#### 장점:
- **유연성**: HTTP와 WebSocket 통신을 모두 지원하기 때문에, 클라이언트가 HTTP 요청을 보내면 기존 방식대로 처리하고, WebSocket을 통해 실시간 통신이 필요한 부분을 처리할 수 있습니다.
- **점진적인 전환**: 기존 시스템을 완전히 WebSocket으로 전환하지 않고, 필요한 부분만 WebSocket을 사용하여 점진적으로 전환할 수 있습니다. 이렇게 하면 전체 시스템을 한 번에 변경할 필요가 없어 부담이 덜합니다.
- **실시간성과 비실시간성 공존**: HTTP 요청은 비실시간 작업에, WebSocket은 실시간성이 필요한 작업에 사용할 수 있어 각각의 장점을 살
